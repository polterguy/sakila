
<mat-spinner
  *ngIf="loaderService.isLoading | async"
  mode="indeterminate"
  diameter="50"
  class="ajax-wait">
</mat-spinner>

<mat-sidenav-container mode="side" class="sidenav-container">

  <mat-sidenav class="sidenav-menu" [(opened)]="sidenavOpened">
    <a
      mat-button
      routerLink="/"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>home</mat-icon>
      <span class="menu-item-text">Home</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/actor"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">actor</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/address"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">address</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/category"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">category</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/city"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">city</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/country"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">country</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/customer"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">customer</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/film"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">film</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/film_actor"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">film_actor</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/film_category"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">film_category</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/film_text"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">film_text</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/inventory"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">inventory</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/language"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">language</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/payment"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">payment</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/rental"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">rental</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/staff"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">staff</span>
    </a>
    <a
      *ngIf="inRole(['root'])"
      mat-button
      routerLink="/store"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>grade</mat-icon>
      <span class="menu-item-text">store</span>
    </a>
    <a
      *ngIf="inRole(['root','admin'])"
      mat-button
      routerLink="/auth"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>supervisor_account</mat-icon>
      <span class="menu-item-text">Auth</span>
    </a>
    <a
      *ngIf="isLoggedIn()"
      mat-button
      routerLink="/security"
      routerLinkActive="active-link"
      class="menu-item"
      (click)="closeNavigator()"
      [routerLinkActiveOptions]="{exact:true}">
      <mat-icon matSuffix>account_circle</mat-icon>
      <span class="menu-item-text">Security</span>
    </a>
    <a
      *ngIf="isLoggedIn()"
      mat-button
      class="menu-item"
      (click)="closeNavigator()"
      (click)="logout()">
      <mat-icon matSuffix>lock</mat-icon>
      <span class="menu-item-text">Logout</span>
    </a>
  </mat-sidenav>

  <mat-sidenav-content>
    <div *ngIf="isLoggedIn()">
      <button
        (click)="openSideNavigation()"
        class="sidenav-button"
        mat-button>Menu</button>
      <router-outlet></router-outlet>
    </div>
    
    <div *ngIf="!isLoggedIn()">
      <mat-card class="login-card">
    
        <mat-form-field class="fill-width">
          <input 
            matInput 
            placeholder="Username"
            autocomplete="off"
            type="text" 
            [(ngModel)]="username">
        </mat-form-field>
    
        <mat-form-field class="fill-width">
          <input 
            matInput 
            placeholder="Password"
            autocomplete="new-password"
            type="password" 
            [(ngModel)]="password">
        </mat-form-field>
    
        <div class="right-aligned">
          <button 
            mat-button
            (click)="login()"
            matTooltip="Login to your app">Login</button>
        </div>
    
      </mat-card>
    </div>
  </mat-sidenav-content>

<mat-sidenav-container>
